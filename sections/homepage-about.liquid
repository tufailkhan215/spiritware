{% schema %}
{
  "name": "Homepage About",
  "settings": [
    {
      "type": "text",
      "id": "label",
      "label": "Label",
      "default": "Our Story"
    },
    {
      "type": "richtext",
      "id": "heading",
      "label": "Heading",
      "default": "<p>Family Business,<br>Mountain Roots</p>"
    },
    {
      "type": "textarea",
      "id": "paragraph_1",
      "label": "First Paragraph",
      "default": "California 89 started in 2012 in the heart of downtown Truckee. What began as a small apparel shop has grown into three beloved locations, combining apparel and home decor that captures the spirit of mountain living."
    },
    {
      "type": "textarea",
      "id": "paragraph_2",
      "label": "Second Paragraph",
      "default": "So much more than a Sierra Highway, it's a way of life! We're a family-owned business dedicated to bringing you quality products inspired by the backroads of California."
    },
    {
      "type": "text",
      "id": "link_text",
      "label": "Link Text",
      "default": "Learn More About Us"
    },
    {
      "type": "url",
      "id": "link_url",
      "label": "Link URL"
    },
    {
      "type": "text",
      "id": "stores_heading",
      "label": "Stores Heading",
      "default": "Visit Our Stores"
    }
  ],
  "blocks": [
    {
      "type": "store",
      "name": "Store",
      "settings": [
        {
          "type": "text",
          "id": "name",
          "label": "Store Name",
          "default": "California 89 - Truckee"
        },
        {
          "type": "text",
          "id": "address",
          "label": "Address",
          "default": "10052 Donner Pass Rd, Truckee, CA 96161"
        },
        {
          "type": "text",
          "id": "hours",
          "label": "Hours",
          "default": "Daily 10am - 6pm"
        },
        {
          "type": "text",
          "id": "phone",
          "label": "Phone",
          "default": "(530) 587-8989"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Homepage About",
      "blocks": [
        {
          "type": "store",
          "settings": {
            "name": "California 89 - Truckee",
            "address": "10052 Donner Pass Rd, Truckee, CA 96161",
            "hours": "Daily 10am - 6pm",
            "phone": "(530) 587-8989"
          }
        },
        {
          "type": "store",
          "settings": {
            "name": "CA89 Home - Truckee",
            "address": "10058 Donner Pass Rd, Truckee, CA 96161",
            "hours": "Daily 10am - 6pm",
            "phone": "(530) 587-8900"
          }
        },
        {
          "type": "store",
          "settings": {
            "name": "California 89 - Tahoe City",
            "address": "475 N Lake Blvd, Tahoe City, CA 96145",
            "hours": "Daily 10am - 6pm",
            "phone": "(530) 581-8989"
          }
        }
      ]
    }
  ]
}
{% endschema %}

<section class="homepage-about-section">
  <div class="homepage-about-container">
    <div class="homepage-about-grid">
      <div class="homepage-about-content">
        {%- if section.settings.label != blank -%}
          <span class="homepage-about-label">{{ section.settings.label }}</span>
        {%- endif -%}
        
        {%- if section.settings.heading != blank -%}
          <h2 class="homepage-about-heading">{{ section.settings.heading }}</h2>
        {%- endif -%}
        
        {%- if section.settings.paragraph_1 != blank -%}
          <p class="homepage-about-paragraph">{{ section.settings.paragraph_1 }}</p>
        {%- endif -%}
        
        {%- if section.settings.paragraph_2 != blank -%}
          <p class="homepage-about-paragraph">{{ section.settings.paragraph_2 }}</p>
        {%- endif -%}
        
        {%- if section.settings.link_text != blank and section.settings.link_url != blank -%}
          <a href="{{ section.settings.link_url }}" class="homepage-about-link">
            {{ section.settings.link_text }}
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="homepage-about-link-arrow" aria-hidden="true">
              <path d="M5 12h14"></path>
              <path d="m12 5 7 7-7 7"></path>
            </svg>
          </a>
        {%- endif -%}
      </div>
      
      <div class="homepage-about-stores">
        {%- if section.settings.stores_heading != blank -%}
          <h3 class="homepage-about-stores-heading">{{ section.settings.stores_heading }}</h3>
        {%- endif -%}
        
        <div class="homepage-about-stores-list">
          {%- for block in section.blocks -%}
            <div class="homepage-about-store-card" {{ block.shopify_attributes }}>
              <h4 class="homepage-about-store-name">{{ block.settings.name }}</h4>
              <div class="homepage-about-store-info">
                {%- if block.settings.address != blank -%}
                  <div class="homepage-about-store-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="homepage-about-store-icon" aria-hidden="true">
                      <path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"></path>
                      <circle cx="12" cy="10" r="3"></circle>
                    </svg>
                    <span>{{ block.settings.address }}</span>
                  </div>
                {%- endif -%}
                
                {%- if block.settings.hours != blank -%}
                  <div class="homepage-about-store-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="homepage-about-store-icon" aria-hidden="true">
                      <circle cx="12" cy="12" r="10"></circle>
                      <polyline points="12 6 12 12 16 14"></polyline>
                    </svg>
                    <span>{{ block.settings.hours }}</span>
                  </div>
                {%- endif -%}
                
                {%- if block.settings.phone != blank -%}
                  <div class="homepage-about-store-item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="homepage-about-store-icon" aria-hidden="true">
                      <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                    </svg>
                    <span>{{ block.settings.phone }}</span>
                  </div>
                {%- endif -%}
              </div>
            </div>
          {%- endfor -%}
        </div>
      </div>
    </div>
  </div>
</section>
