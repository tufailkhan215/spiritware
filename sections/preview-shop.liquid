{% comment %} Spiritware preview shop: "Wearable Prayers", product grid with Quick Add. {% endcomment %}
<section class="preview-shop preview-theme" id="shop">
  <div class="preview-section preview-shop__inner">
    <div class="preview-shop__header">
      <div>
        {% if section.settings.label != blank %}
          <span class="preview-label preview-shop__label">{{ section.settings.label }}</span>
        {% endif %}
        {% if section.settings.heading != blank %}
          <h2 class="preview-heading-serif preview-heading-lg preview-shop__heading">{{ section.settings.heading }}</h2>
        {% endif %}
      </div>
      {% if section.settings.view_all_text != blank and section.settings.view_all_link != blank %}
        <a href="{{ section.settings.view_all_link }}" class="preview-shop__view-all">{{ section.settings.view_all_text }}</a>
      {% endif %}
    </div>
    {% if section.settings.collection != blank %}
      {% assign products_to_show = section.settings.products_to_show | default: 4 %}
      <div class="preview-shop__grid">
        {% for product in section.settings.collection.products limit: products_to_show %}
          <div class="preview-shop__item">
            {% render 'product-card-preview', product: product %}
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p class="preview-shop__empty">{{ 'sections.featured_products.no_collection' | t }}</p>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Preview Shop",
  "class": "section-preview-shop",
  "settings": [
    { "type": "text", "id": "label", "label": "Label", "default": "The Collection" },
    { "type": "text", "id": "heading", "label": "Heading", "default": "Wearable Prayers" },
    { "type": "text", "id": "view_all_text", "label": "View all text", "default": "View All" },
    { "type": "url", "id": "view_all_link", "label": "View all link" },
    { "type": "collection", "id": "collection", "label": "Collection" },
    { "type": "range", "id": "products_to_show", "min": 2, "max": 8, "step": 1, "label": "Products to show", "default": 4 },
    { "type": "checkbox", "id": "show_badges", "label": "Show badges", "default": true },
    { "type": "checkbox", "id": "show_description", "label": "Show short description", "default": true }
  ]
}
{% endschema %}
