{% schema %}
{
  "name": "Customer Testimonials",
  "settings": [
    {
      "type": "text",
      "id": "label",
      "label": "Label",
      "default": "Testimonials"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "What Our Customers Say"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Join thousands of happy customers who love the California 89 lifestyle."
    },
    {
      "type": "header",
      "content": "Statistics"
    },
    {
      "type": "text",
      "id": "stat_1_value",
      "label": "Stat 1 Value",
      "default": "12.4K"
    },
    {
      "type": "text",
      "id": "stat_1_label",
      "label": "Stat 1 Label",
      "default": "Happy Customers"
    },
    {
      "type": "text",
      "id": "stat_2_value",
      "label": "Stat 2 Value",
      "default": "4.9"
    },
    {
      "type": "text",
      "id": "stat_2_label",
      "label": "Stat 2 Label",
      "default": "Average Rating"
    },
    {
      "type": "text",
      "id": "stat_3_value",
      "label": "Stat 3 Value",
      "default": "13+"
    },
    {
      "type": "text",
      "id": "stat_3_label",
      "label": "Stat 3 Label",
      "default": "Years in Business"
    },
    {
      "type": "text",
      "id": "stat_4_value",
      "label": "Stat 4 Value",
      "default": "3"
    },
    {
      "type": "text",
      "id": "stat_4_label",
      "label": "Stat 4 Label",
      "default": "Store Locations"
    }
  ],
  "blocks": [
    {
      "type": "testimonial",
      "name": "Testimonial",
      "settings": [
        {
          "type": "range",
          "id": "rating",
          "label": "Rating",
          "min": 1,
          "max": 5,
          "step": 1,
          "default": 5
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Testimonial Text",
          "default": "Great products and excellent service!"
        },
        {
          "type": "text",
          "id": "author",
          "label": "Author Name",
          "default": "John Doe"
        },
        {
          "type": "text",
          "id": "product_name",
          "label": "Product Name",
          "default": "Mountain Hoodie"
        },
        {
          "type": "checkbox",
          "id": "verified",
          "label": "Verified Purchase",
          "default": true
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Customer Testimonials",
      "blocks": [
        {
          "type": "testimonial",
          "settings": {
            "rating": 5,
            "text": "Better than expected.. fits great and is warm.. if you know CA 89 you know.. love that it brings up conversations about the little mountain town I grew up in.",
            "author": "Elizabeth H.",
            "product_name": "Mountain Hooded Sweatshirt",
            "verified": true
          }
        },
        {
          "type": "testimonial",
          "settings": {
            "rating": 5,
            "text": "These are THE BEST hiking cards! Super fun to lay out ideas on table for guests. Love that they are color coded for easy, medium and difficult hikes.",
            "author": "Tracy C.",
            "product_name": "CA89 HIKE Cards",
            "verified": true
          }
        },
        {
          "type": "testimonial",
          "settings": {
            "rating": 5,
            "text": "Fit was just large enough to be cozy yet not binding. Quality was excellent. As a Truckee expat I couldn't be happier. Feels like home.",
            "author": "Gail G.",
            "product_name": "Unisex Mountain Hoodie",
            "verified": true
          }
        },
        {
          "type": "testimonial",
          "settings": {
            "rating": 5,
            "text": "California 89 is a great store from the moment you step in! It smells amazing from their candles! It offers a unique selection of shirts and sweaters along with stickers, art and mugs.",
            "author": "Heidi B.",
            "product_name": "Store Review",
            "verified": true
          }
        }
      ]
    }
  ]
}
{% endschema %}

<section class="customer-testimonials-section">
  <div class="customer-testimonials-container">
    <div class="customer-testimonials-header">
      {%- if section.settings.label != blank -%}
        <span class="customer-testimonials-label">{{ section.settings.label }}</span>
      {%- endif -%}
      {%- if section.settings.heading != blank -%}
        <h2 class="customer-testimonials-heading">{{ section.settings.heading }}</h2>
      {%- endif -%}
      {%- if section.settings.description != blank -%}
        <p class="customer-testimonials-description">{{ section.settings.description }}</p>
      {%- endif -%}
    </div>
    
    <div class="customer-testimonials-grid">
      {%- for block in section.blocks -%}
        <div class="customer-testimonial-card" {{ block.shopify_attributes }}>
          <div class="customer-testimonial-stars">
            {%- for i in (1..block.settings.rating) -%}
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="customer-testimonial-star" aria-hidden="true">
                <path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"></path>
              </svg>
            {%- endfor -%}
          </div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="customer-testimonial-quote" aria-hidden="true">
            <path d="M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z"></path>
            <path d="M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z"></path>
          </svg>
          <p class="customer-testimonial-text">{{ block.settings.text }}</p>
          <div class="customer-testimonial-footer">
            <div class="customer-testimonial-author-info">
              <p class="customer-testimonial-author">{{ block.settings.author }}</p>
              {%- if block.settings.product_name != blank -%}
                <p class="customer-testimonial-product">{{ block.settings.product_name }}</p>
              {%- endif -%}
            </div>
            {%- if block.settings.verified -%}
              <span class="customer-testimonial-verified">Verified Purchase</span>
            {%- endif -%}
          </div>
        </div>
      {%- endfor -%}
    </div>

    {%- if section.settings.stat_1_value != blank or section.settings.stat_2_value != blank or section.settings.stat_3_value != blank or section.settings.stat_4_value != blank -%}
      <div class="customer-testimonials-stats">
        {%- if section.settings.stat_1_value != blank -%}
          <div class="customer-testimonial-stat">
            <p class="customer-testimonial-stat-value">{{ section.settings.stat_1_value }}</p>
            <p class="customer-testimonial-stat-label">{{ section.settings.stat_1_label }}</p>
          </div>
        {%- endif -%}
        {%- if section.settings.stat_2_value != blank -%}
          <div class="customer-testimonial-stat">
            <p class="customer-testimonial-stat-value">{{ section.settings.stat_2_value }}</p>
            <p class="customer-testimonial-stat-label">{{ section.settings.stat_2_label }}</p>
          </div>
        {%- endif -%}
        {%- if section.settings.stat_3_value != blank -%}
          <div class="customer-testimonial-stat">
            <p class="customer-testimonial-stat-value">{{ section.settings.stat_3_value }}</p>
            <p class="customer-testimonial-stat-label">{{ section.settings.stat_3_label }}</p>
          </div>
        {%- endif -%}
        {%- if section.settings.stat_4_value != blank -%}
          <div class="customer-testimonial-stat">
            <p class="customer-testimonial-stat-value">{{ section.settings.stat_4_value }}</p>
            <p class="customer-testimonial-stat-label">{{ section.settings.stat_4_label }}</p>
          </div>
        {%- endif -%}
      </div>
    {%- endif -%}
  </div>
</section>

