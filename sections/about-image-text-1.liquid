{% comment %}
  About Image Text 1 — Two-column: text (left or right), image. Two designs: Simple (heading + 3 paragraphs) or Founder (label, heading, subtitle, quote, paragraph).
  Dynamic background: color or image with opacity and overlay. Option to switch image left/right. Optional image accent behind photo.
  Generic: works with any header. Design: #EDE8E0, #1A1A1A, #C4A77D.
{% endcomment %}

{%- assign design = section.settings.design | default: 'simple' -%}
{%- assign bg_type = section.settings.background_type | default: 'color' -%}
{%- assign bg_color = section.settings.background_color | default: '#EDE8E0' -%}
{%- assign bg_opacity = section.settings.background_opacity | default: 60 | divided_by: 100.0 -%}
{%- assign overlay_color = section.settings.overlay_color | default: '#1A1A1A' -%}
{%- assign overlay_opacity = section.settings.overlay_opacity | default: 50 | divided_by: 100.0 -%}
{%- assign image_position = section.settings.image_position | default: 'right' -%}
{%- assign image_accent = section.settings.image_accent | default: 'none' -%}
{%- assign image_accent_color = section.settings.image_accent_color | default: '#EDE8E0' -%}
{%- if bg_type == 'color' -%}
  {%- assign use_bg_color = true -%}
{%- elsif bg_type == 'image' and section.settings.background_image == blank -%}
  {%- assign use_bg_color = true -%}
{%- else -%}
  {%- assign use_bg_color = false -%}
{%- endif -%}

<section
  class="about-image-text-1
    {% if design == 'founder' %}about-image-text-1--founder{% endif %}
    {% if bg_type == 'image' and section.settings.background_image != blank %}about-image-text-1--bg-image{% endif %}
    about-image-text-1--image-{{ image_position }}
    {% if image_accent != 'none' %}about-image-text-1--image-accent{% endif %}"
  aria-label="About image and text"
  style="{% if use_bg_color %}background-color: {{ bg_color }};{% endif %}"
>
  {%- if bg_type == 'image' and section.settings.background_image != blank -%}
    <div class="about-image-text-1__bg" aria-hidden="true">
      <img
        class="about-image-text-1__bg-image"
        src="{{ section.settings.background_image | image_url: width: 1920 }}"
        alt=""
        width="1920"
        height="1080"
        loading="lazy"
        fetchpriority="low"
        style="opacity: {{ bg_opacity }};"
      >
      <div class="about-image-text-1__bg-overlay" aria-hidden="true" style="background-color: {{ overlay_color }}; opacity: {{ overlay_opacity }};"></div>
    </div>
  {%- endif -%}

  <div class="about-image-text-1__container">
    <div class="about-image-text-1__grid">
      <div class="about-image-text-1__content">
        {%- if design == 'simple' -%}
          {%- if section.settings.heading != blank -%}
            <h2 class="about-image-text-1__heading">{{ section.settings.heading | escape }}</h2>
          {%- endif -%}
          <div class="about-image-text-1__body">
            {%- if section.settings.paragraph_1 != blank -%}
              <p class="about-image-text-1__paragraph">{{ section.settings.paragraph_1 }}</p>
            {%- endif -%}
            {%- if section.settings.paragraph_2 != blank -%}
              <p class="about-image-text-1__paragraph">{{ section.settings.paragraph_2 }}</p>
            {%- endif -%}
            {%- if section.settings.paragraph_3 != blank -%}
              <p class="about-image-text-1__paragraph">{{ section.settings.paragraph_3 }}</p>
            {%- endif -%}
          </div>
        {%- else -%}
          {%- if section.settings.subheading != blank -%}
            <span class="about-image-text-1__label">{{ section.settings.subheading | escape }}</span>
          {%- endif -%}
          {%- if section.settings.heading != blank -%}
            <h2 class="about-image-text-1__heading">{{ section.settings.heading | escape }}</h2>
          {%- endif -%}
          {%- if section.settings.subtitle != blank -%}
            <p class="about-image-text-1__subtitle">{{ section.settings.subtitle | escape }}</p>
          {%- endif -%}
          {%- if section.settings.blockquote != blank -%}
            <blockquote class="about-image-text-1__quote">{{ section.settings.blockquote }}</blockquote>
          {%- endif -%}
          {%- if section.settings.body != blank -%}
            <p class="about-image-text-1__paragraph">{{ section.settings.body }}</p>
          {%- endif -%}
        {%- endif -%}
      </div>
      <div class="about-image-text-1__media">
        <div class="about-image-text-1__media-wrap">
          {%- if image_accent != 'none' -%}
            <div class="about-image-text-1__image-accent" aria-hidden="true" style="background-color: {{ image_accent_color }};"></div>
          {%- endif -%}
          {%- if section.settings.image != blank -%}
            <img
              class="about-image-text-1__image"
              src="{{ section.settings.image | image_url: width: 800 }}"
              alt="{{ section.settings.image.alt | default: section.settings.heading | escape }}"
              width="800"
              height="1000"
              loading="lazy"
            >
          {%- else -%}
            <div class="about-image-text-1__image-placeholder" role="img" aria-label=""></div>
          {%- endif -%}
        </div>
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "About Image Text 1",
  "tag": "section",
  "class": "section-about-image-text-1",
  "settings": [
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "select",
      "id": "design",
      "label": "Design",
      "options": [
        { "value": "simple", "label": "Simple (heading + paragraphs)" },
        { "value": "founder", "label": "Founder (label, heading, subtitle, quote)" }
      ],
      "default": "simple",
      "info": "Simple: one heading and up to 3 paragraphs. Founder: label, name, role, blockquote, and body text."
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "Image position",
      "options": [
        { "value": "right", "label": "Right" },
        { "value": "left", "label": "Left" }
      ],
      "default": "right",
      "info": "Text and image swap sides on desktop."
    },
    {
      "type": "header",
      "content": "Section background"
    },
    {
      "type": "select",
      "id": "background_type",
      "label": "Background",
      "options": [
        { "value": "color", "label": "Solid color" },
        { "value": "image", "label": "Image" }
      ],
      "default": "color"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#EDE8E0"
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background image",
      "info": "Used when Background is Image."
    },
    {
      "type": "range",
      "id": "background_opacity",
      "label": "Background image opacity",
      "min": 10,
      "max": 100,
      "step": 5,
      "unit": "%",
      "default": 60
    },
    {
      "type": "color",
      "id": "overlay_color",
      "label": "Overlay color",
      "default": "#1A1A1A",
      "info": "Color layer on top of background image."
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "label": "Overlay opacity",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "default": 50
    },
    {
      "type": "header",
      "content": "Simple design"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Where It All Began"
    },
    {
      "type": "textarea",
      "id": "paragraph_1",
      "label": "Paragraph 1",
      "default": "Sacred Rebel emerged from the space between—the sacred and the savage, the divine and the dichotomy. We saw a world where spirituality was being boxed into rigid definitions, where \"holy\" meant quiet and \"rebellious\" meant lost."
    },
    {
      "type": "textarea",
      "id": "paragraph_2",
      "label": "Paragraph 2",
      "default": "We disagreed."
    },
    {
      "type": "textarea",
      "id": "paragraph_3",
      "label": "Paragraph 3",
      "default": "We believe God is limitless, and so are we. True spirituality isn't about confinement—it's about expansion, embodiment, and liberation. Our fire, sensuality, and unfiltered expression aren't meant to be suppressed. They're meant to be celebrated."
    },
    {
      "type": "header",
      "content": "Founder design"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Label (e.g. The Founder)",
      "default": "The Founder"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle (e.g. role)",
      "default": "Founder & Creative Director"
    },
    {
      "type": "textarea",
      "id": "blockquote",
      "label": "Quote",
      "default": "\"I created Sacred Rebel for the ones who feel too wild for the temple and too sacred for the streets. This is for us.\""
    },
    {
      "type": "textarea",
      "id": "body",
      "label": "Body text",
      "default": "Kateri is an entrepreneur, fashion designer, and spiritual seeker with a passion for sustainability and authentic self-expression. After years of feeling like she didn't fit into conventional spiritual or fashion spaces, she created Sacred Rebel as a home for conscious warriors everywhere."
    },
    {
      "type": "header",
      "content": "Image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "select",
      "id": "image_accent",
      "label": "Image accent",
      "options": [
        { "value": "none", "label": "None" },
        { "value": "color", "label": "Offset color behind image" }
      ],
      "default": "none",
      "info": "Founder layout often uses an offset colored rectangle behind the photo."
    },
    {
      "type": "color",
      "id": "image_accent_color",
      "label": "Image accent color",
      "default": "#EDE8E0"
    }
  ],
  "presets": [
    {
      "name": "About Image Text 1"
    }
  ]
}
{% endschema %}
