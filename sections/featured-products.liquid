<div class="featured-products-section section page-width" style="padding: 4rem 0;">
  <header class="featured-products__header" style="text-align: center; margin-bottom: 2rem;">
    {% if section.settings.small_label != blank %}
      <span class="featured-products__label" style="display: block; font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 0.5rem; color: var(--color-primary);">{{ section.settings.small_label }}</span>
    {% endif %}
    {% if section.settings.heading != blank %}
      <h2 class="featured-products__heading" style="font-size: 2.5rem; margin: 0 0 0.5rem;">{{ section.settings.heading }}</h2>
    {% endif %}
    {% if section.settings.description != blank %}
      <p class="featured-products__description" style="margin: 0; max-width: 40rem; margin-left: auto; margin-right: auto;">{{ section.settings.description }}</p>
    {% endif %}
  </header>
  {% if section.settings.collection != blank %}
    {% assign products_to_show = section.settings.products_to_show | default: 8 %}
    <div class="featured-products__grid" style="display: grid; gap: 1.5rem; grid-template-columns: repeat(2, 1fr);">
      {% for product in section.settings.collection.products limit: products_to_show %}
        <div class="featured-products__item">
          {% render 'product-card', product: product %}
        </div>
      {% endfor %}
    </div>
    <p class="featured-products__view-all" style="text-align: center; margin-top: 2rem;">
      <a href="{{ section.settings.collection.url }}" class="button button--outline">{{ 'collections.general.view_all' | t }}</a>
    </p>
  {% else %}
    <p class="featured-products__empty" style="text-align: center; color: var(--color-dark-gray);">{{ 'sections.featured_products.no_collection' | t }}</p>
  {% endif %}
</div>

{% schema %}
{
  "name": "Featured products",
  "class": "section-featured-products",
  "settings": [
    {
      "type": "text",
      "id": "small_label",
      "label": "Small label"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Collection"
    },
    {
      "type": "range",
      "id": "products_to_show",
      "min": 4,
      "max": 16,
      "step": 2,
      "label": "Products to show",
      "default": 8
    }
  ],
  "presets": [
    {
      "name": "Featured products"
    }
  ]
}
{% endschema %}
