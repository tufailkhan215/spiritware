<div id="CartDrawerContent" class="cart-drawer__content" data-cart-drawer-content>
  <div class="cart-drawer__header">
    <h2 class="cart-drawer__title">{{ 'layout.cart.title' | t }} ({{ cart.item_count }})</h2>
    <button type="button" class="cart-drawer__close-btn" data-close-cart-drawer aria-label="{{ 'general.accessibility.close' | t }}">{% render 'icon-close' %}</button>
  </div>

  <div class="cart-drawer__body">
    {% if cart.item_count > 0 %}
      <ul class="cart-drawer__items" style="list-style: none; padding: 0; margin: 0; border-bottom: 1px solid var(--color-light-gray);">
        {% for item in cart.items %}
          <li class="cart-drawer__item" style="display: flex; gap: 1rem; padding: 1rem 0; border-bottom: 1px solid var(--color-light-gray);">
            <a href="{{ item.url }}" class="cart-drawer__item-image" style="flex-shrink: 0; width: 72px; height: 72px; border-radius: 0.5rem; overflow: hidden; background: var(--color-light-gray);">
              {% if item.image %}
                <img src="{{ item.image | image_url: width: 144 }}" alt="{{ item.title | escape }}" width="72" height="72" loading="lazy" style="width: 100%; height: 100%; object-fit: cover;" />
              {% else %}
                {{ 'product-1' | placeholder_svg_tag: 'placeholder-svg' }}
              {% endif %}
            </a>
            <div class="cart-drawer__item-details" style="flex: 1; min-width: 0;">
              <a href="{{ item.url }}" class="cart-drawer__item-title" style="font-weight: 600; display: block; margin-bottom: 0.25rem;">{{ item.product.title }}</a>
              {% unless item.variant.title == 'Default Title' %}
                <p class="cart-drawer__item-variant" style="margin: 0; font-size: 0.875rem; color: var(--color-dark-gray);">{{ item.variant.title }}</p>
              {% endunless %}
              <p class="cart-drawer__item-quantity" style="margin: 0.25rem 0 0; font-size: 0.875rem;">{{ 'sections.cart.quantity' | t }}: {{ item.quantity }}</p>
            </div>
            <div class="cart-drawer__item-price" style="flex-shrink: 0; text-align: right;">
              {{ item.final_line_price | money }}
            </div>
          </li>
        {% endfor %}
      </ul>

      <div class="cart-drawer__footer" style="padding: 1rem 0;">
        <div class="cart-drawer__subtotal" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; font-weight: 700; font-size: 1.125rem;">
          <span>{{ 'sections.cart.subtotal' | t }}</span>
          <span>{{ cart.total_price | money }}</span>
        </div>
        <a href="{{ routes.cart_url }}" class="button button--outline cart-drawer__view-cart" style="display: block; text-align: center; margin-bottom: 0.5rem;">{{ 'sections.cart.view_cart' | t }}</a>
        <a href="{{ routes.cart_url }}/checkout" class="button button--primary cart-drawer__checkout" style="display: block; text-align: center;">{{ 'sections.cart.checkout' | t }}</a>
      </div>
    {% else %}
      <p class="cart-drawer__empty" style="padding: 2rem; text-align: center; color: var(--color-dark-gray);">{{ 'sections.cart.empty' | t }}</p>
      <a href="{{ routes.all_products_collection_url }}" class="button button--primary" style="display: block; text-align: center; margin: 0 1rem 1rem;">{{ 'sections.cart.continue_shopping' | t }}</a>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "Cart drawer",
  "class": "section-cart-drawer",
  "settings": []
}
{% endschema %}
